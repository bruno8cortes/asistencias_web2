function login(){const u=document.getElementById("user").value,p=document.getElementById("pass").value;if(u==="preceptor"&&p==="preceptor")window.location.href="asistencias.html";else if(u==="admin"&&p==="admin")window.location.href="admin.html";else alert("Usuario o contraseña incorrectos")}const alumnos=[{id:1,nombre:"Juan Pérez"},{id:2,nombre:"Ana Gomez"},{id:3,nombre:"Carlos Ruiz"}];if(document.getElementById("tabla-alumnos"))cargarTabla();function cargarTabla(){const t=document.getElementById("tabla-alumnos");t.innerHTML="";alumnos.forEach(a=>{t.innerHTML+=`<tr id="row-${a.id}"><td>${a.id}</td><td>${a.nombre}</td><td class="estado"></td><td><input type="checkbox" class="chk" value="${a.id}"></td></tr>`})}function abrirModal(){document.getElementById("modal").style.display="flex"}function cerrarModal(){document.getElementById("modal").style.display="none"}function guardarAsistencia(){const f=document.getElementById("fecha").value;if(!f)return alert("Selecciona una fecha");const s=[...document.querySelectorAll(".chk:checked")].map(c=>c.value),e=document.getElementById("estado").value;if(s.length===0)return alert("No seleccionaste alumnos");let r=JSON.parse(localStorage.getItem("asistencias"))||{};if(!r[f])r[f]={};s.forEach(id=>{r[f][id]=e;document.querySelector(`#row-${id} .estado`).className="estado "+e;document.querySelector(`#row-${id} .estado`).innerHTML=e.toUpperCase()});localStorage.setItem("asistencias",JSON.stringify(r));cerrarModal()}function mostrarReporte(){const f=document.getElementById("fechaReporte").value,d=document.getElementById("reporte");if(!f)return alert("Selecciona una fecha");const r=JSON.parse(localStorage.getItem("asistencias"))||{};if(!r[f]){d.innerHTML="<p>No hay datos para esta fecha.</p>";return}d.innerHTML="<ul>";for(const id in r[f]){const al=alumnos.find(a=>a.id==id);d.innerHTML+=`<li>${al.nombre} → ${r[f][id].toUpperCase()}</li>`}d.innerHTML+="</ul>"}